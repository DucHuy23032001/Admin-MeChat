<div class="row justify-content-center">
    <div class="col-lg-5 col-md-7">
        <div class="card bg-secondary border-0 mb-0">
            <div class="card-header bg-transparent pb-5">
                <div class="text-muted text-center mt-2 mb-3"><small>Sign in with</small></div>
                <div class="card-body px-lg-5 py-lg-5">
                    <form action="/post-login" method="post">
                        <div id="sender">
                            <div class="mb-3">
                                <label class="form-label">Number Phone</label>
                                <input type="text" class="form-control" name="phoneNumber" id="phoneNumber" required>
                                <label class="form-label">Password</label>
                                <input type="text" class="form-control" name="passWord" id="passWord" required>
                                <div id="recapcha-container"></div>
                                <input type="button" name="send" id="send" value="Send" onclick="phoneAuth()">
                            </div>
                        </div>
                        <div id="verifier" style="display: none;">
                            <div class="mb-3">
                                <label class="form-label">Number Phone</label>
                                <label class="form-label" id="otp" style="display: none;"></label>
                                <input type="text" class="form-control" id="verificationcode" placeholder="OTP Code"
                                    required>
                            </div>
                            <button type="submit" onclick="codeverify()" class="btn btn-primary">Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-auth-compat.js"></script>
<script>
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyAc5R48XRDx2jxyGscKmfCZUqcdpnnmWCw",
        authDomain: "chat-app-50a48.firebaseapp.com",
        projectId: "chat-app-50a48",
        storageBucket: "chat-app-50a48.appspot.com",
        messagingSenderId: "294060158276",
        appId: "1:294060158276:web:182b5dd69cc88fbe56bb11",
        measurementId: "G-R1FJ2081Y0"
    };
    firebase.initializeApp(firebaseConfig);
    render();
    function render() {
        window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recapcha-container');
        recaptchaVerifier.render();
    }
    var coderesult;
    function phoneAuth() {
        var number = document.getElementById('phoneNumber').value;
        firebase.auth().signInWithPhoneNumber(number, window.recaptchaVerifier).then(function (confirmationResult) {
            window.confirmationResult = confirmationResult;
            coderesult = confirmationResult;
            document.getElementById('sender').style.display = 'none';
            document.getElementById('verifier').style.display = 'block';
            // document.getElementById('otp').;
            alert("oke! 2")
        }).catch(function (error) {
            alert(error.message);
        });
    }
    function codeverify() {
        var code = document.getElementById('verificationcode').value;
        coderesult.confirm(code).then(function () {
            alert("True")
        }).catch(function () {
            alert("False")
        })
    }
</script>